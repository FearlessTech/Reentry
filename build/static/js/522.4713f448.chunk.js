"use strict";
(self.webpackChunkreentry_resources =
  self.webpackChunkreentry_resources || []).push([
  [522],
  {
    7522: function (n, e, t) {
      t.r(e),
        t.d(e, {
          default: function () {
            return tn;
          },
        });
      var r,
        i,
        a,
        s,
        o,
        c,
        u,
        l,
        d,
        p,
        h,
        f = t(4165),
        m = t(5861),
        x = t(885),
        g = t(2791),
        v = t(184),
        w = t(168),
        b = t(6444),
        Z = b.ZP.div(
          r ||
            (r = (0, w.Z)([
              "\n  max-width: 100%;\n  display: flex;\n  background-color: #cdcdcd;\n  overflow: hidden;\n  flex-wrap: wrap-reverse;\n  column-gap: 2rem;\n  row-gap: 2rem;\n  padding-top: 52px;\n  padding-left: 2rem;\n  padding-right: 2rem;\n  height: 100vh;\n  overflow: hidden;\n  @media (max-width: 768px) {\n    overflow: scroll;\n  }\n  &,\n  * {\n    font-family: Inter, sans-serif;\n    box-sizing: border-box;\n  }\n",
            ]))
        ),
        y = b.ZP.div(
          i ||
            (i = (0, w.Z)([
              "\n  // //\n  flex: 0 1 350px;\n  display: flex;\n  flex-direction: column;\n  background-color: #e9e9e9;\n  height: 85vh;\n  border-radius: 10px;\n  margin-bottom: 20px;\n",
            ]))
        ),
        j = b.ZP.div(
          a ||
            (a = (0, w.Z)([
              "\n  display: flex;\n  width: 87%;\n  height: 10%;\n  margin: 20px 20px 0 20px;\n  background-color: #009999;\n  border-radius: 10px 10px 0 0;\n  display: flex;\n  align-items: center;\n  padding-left: 1rem;\n  h2 {\n    color: white;\n    font-size: 20px;\n    font-weight: 600;\n  }\n",
            ]))
        ),
        k = b.ZP.div(
          s ||
            (s = (0, w.Z)([
              "\n  display: flex;\n  flex-direction: column;\n  margin: 20px 20px 0 20px;\n  width: 87%;\n  height: 90%;\n  background-color: #cdcdcd;\n  overflow-x: hidden;\n  border-radius: 0 0 0 10px;\n  margin-bottom: 20px;\n  .actors {\n    display: flex;\n    flex-direction: column;\n    row-gap: 0.7rem;\n    margin: 0.7rem 0;\n  }\n",
            ]))
        ),
        N = b.ZP.div(
          o ||
            (o = (0, w.Z)([
              "\n  // //\n  flex: 8 1 250px;\n  width: 750px;\n  display: flex;\n  flex-direction: column;\n  background-color: #e9e9e9;\n  height: 85vh;\n  border-radius: 10px;\n  margin-bottom: 20px;\n",
            ]))
        ),
        A = b.ZP.div(
          c ||
            (c = (0, w.Z)([
              "\n  display: flex;\n  height: 10%;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  margin-top: 20px;\n  margin-left: 20px;\n  margin-right: 20px;\n  background-color: #009999;\n  align-items: center;\n  padding-left: 1rem;\n  h2 {\n    color: white;\n    font-size: 20px;\n    font-weight: 600;\n  }\n",
            ]))
        ),
        R = b.ZP.div(
          u ||
            (u = (0, w.Z)([
              "\n  display: flex;\n  flex-direction: column-reverse;\n  margin-left: 20px;\n  margin-right: 20px;\n  height: 65%;\n  background-color: #cdcdcd;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  flex-wrap: wrap;\n  .messages-node {\n    margin-left: 1rem;\n    list-style-type: none;\n    display: flex;\n    flex-direction: column;\n    row-gap: 1rem;\n    margin-bottom: 1rem;\n  }\n",
            ]))
        ),
        U = b.ZP.div(
          l ||
            (l = (0, w.Z)([
              "\n  margin: 20px;\n  padding: 0.5rem;\n  max-width: 100%;\n  background-color: #009999;\n  border-bottom-left-radius: 10px;\n  border-bottom-left-radius: 10px;\n  display: flex;\n  flex-wrap: wrap;\n\n  form {\n    max-width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-wrap: wrap;\n    input {\n      flex: 8 1 270px;\n      height: 75px;\n      border: none;\n      transition: 100ms ease-in-out;\n      padding: 1rem;\n      &:focus,\n      &:focus-visible,\n      &:focus-within {\n        outline: none;\n        transform: scaleY(1.05);\n        transform: scaleX(1.004);\n      }\n    }\n\n    button {\n      flex: 1 1 150px;\n      height: 75px;\n      border-radius: 10px;\n      background-color: #74d4d4;\n      font-size: 22px;\n      color: #ececec;\n      border: none;\n      outline: none;\n      &:focus,\n      &:focus-visible,\n      &:focus-within {\n        outline: none;\n        transform: scaleY(1.05);\n        transform: scaleX(1.004);\n      }\n      &[disabled] {\n        background-color: #ffffff38;\n      }\n    }\n  }\n",
            ]))
        ),
        P = b.ZP.input(
          d ||
            (d = (0, w.Z)([
              "\n  margin: 10px;\n  width: 800px;\n  height: 80%;\n  background-color: #e9e9e9;\n  border-radius: 10px;\n",
            ]))
        ),
        L = t(1413),
        S = t(9598),
        C = t(2426),
        z = t(2734),
        E = t(1641),
        F = t(1523),
        I = t(7859),
        T = b.ZP.div(
          p ||
            (p = (0, w.Z)([
              "\n  .top {\n    display: flex;\n    column-gap: 0.6rem;\n    .image-wrapper {\n      width: 45px;\n      overflow: hidden;\n      display: grid;\n      place-items: center;\n      border-radius: 100vmax;\n      img {\n        width: 100%;\n      }\n    }\n    .meta {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      height: 45px;\n      padding-bottom: 0.2rem;\n      .name {\n        font-weight: 600;\n        color: #074453;\n        text-decoration: none;\n      }\n      .date {\n        font-size: 12px;\n      }\n    }\n  }\n  .text {\n    padding-left: 3.4rem;\n    font-size: 15px;\n    .image-wrapper {\n      width: 150px;\n      img {\n        width: 100%;\n      }\n    }\n  }\n",
            ]))
        ),
        _ = function (n) {
          var e = n.createdAt,
            t = void 0 === e ? null : e,
            r = n.text,
            i = void 0 === r ? "" : r,
            a = n.displayName,
            s = void 0 === a ? "" : a,
            o = n.photoURL,
            c = void 0 === o ? "" : o,
            u = n.uid,
            l = void 0 === u ? "" : u,
            d = [];
          return (
            (0, I._h)(i).forEach(function (n) {
              return (0, I.CB)(n)
                ? (0, I.r6)(n)
                  ? d.push({ image: !0, text: n, url: !0 })
                  : d.push({ image: !1, text: n, url: !0 })
                : d.push({ image: !1, text: n, url: !1 });
            }),
            (0, v.jsxs)(T, {
              children: [
                (0, v.jsxs)("div", {
                  className: "top",
                  children: [
                    (0, v.jsx)("div", {
                      className: "image-wrapper",
                      children: (0, v.jsx)(z.s, { source: c }),
                    }),
                    (0, v.jsxs)("div", {
                      className: "meta",
                      children: [
                        s
                          ? (0, v.jsx)(F.rU, {
                              className: "name",
                              to: "/messaging/".concat(l),
                              children: s,
                            })
                          : null,
                        null !== t && void 0 !== t && t.seconds
                          ? (0, v.jsx)("span", {
                              className: "date",
                              children: (0, E.Z)(
                                new Date(1e3 * t.seconds),
                                new Date()
                              ),
                            })
                          : null,
                      ],
                    }),
                  ],
                }),
                (0, v.jsx)("div", {
                  children: (0, v.jsx)("div", {
                    className: "text",
                    children: d.map(function (n, e) {
                      return (0, v.jsx)(
                        g.Fragment,
                        {
                          children: n.image
                            ? (0, v.jsxs)(v.Fragment, {
                                children: [
                                  (0, v.jsx)("a", {
                                    href: n.text,
                                    target: "_blank",
                                    children: (0, v.jsx)("div", {
                                      className: "image-wrapper",
                                      children: (0, v.jsx)("img", {
                                        src: n.text,
                                        alt: "",
                                        onError: function (n) {
                                          n.target.remove();
                                        },
                                      }),
                                    }),
                                  }),
                                  " ",
                                ],
                              })
                            : n.url
                            ? (0, v.jsxs)(v.Fragment, {
                                children: [
                                  (0, v.jsx)("a", {
                                    href: n.text,
                                    target: "_blank",
                                    children: n.text,
                                  }),
                                  " ",
                                ],
                              })
                            : (0, v.jsxs)(v.Fragment, {
                                children: [n.text, " "],
                              }),
                        },
                        e
                      );
                    }),
                  }),
                }),
              ],
            })
          );
        },
        M = b.ZP.div(
          h ||
            (h = (0, w.Z)([
              "\n  a {\n    display: flex;\n    column-gap: 1rem;\n    align-items: flex-start;\n    padding-top: 0.2rem;\n    background-color: #d5d5d5;\n    padding: 0.2rem 0.8rem;\n    text-decoration: none;\n    .image-wrapper {\n      width: 60px;\n      overflow: hidden;\n      border-radius: 100vmax;\n      display: grid;\n      place-items: center;\n      img {\n        width: 100%;\n      }\n    }\n    .right {\n      display: flex;\n      flex-direction: column;\n      row-gap: 0.2rem;\n      .name {\n        font-size: 14px;\n        font-weight: 600;\n        color: #074453;\n      }\n      .last {\n        span {\n          font-size: 12px;\n          color: #545454;\n        }\n      }\n    }\n  }\n",
            ]))
        );
      function D(n) {
        var e = n.name,
          t = n.photoURL,
          r = n.lastMessage,
          i = n.uid;
        return (0, v.jsx)(M, {
          children: (0, v.jsxs)(F.rU, {
            to: "/messaging/".concat(i),
            children: [
              (0, v.jsx)("div", {
                className: "image-wrapper",
                children: (0, v.jsx)(z.s, { source: t }),
              }),
              (0, v.jsxs)("div", {
                className: "right",
                children: [
                  (0, v.jsx)("span", { className: "name", children: e }),
                  (0, v.jsx)("div", {
                    className: "last",
                    children: (0, v.jsx)("span", { children: r }),
                  }),
                ],
              }),
            ],
          }),
        });
      }
      var B = t(5352),
        H = t(2982),
        V = t(5671),
        J = t(3144),
        K = t(5063),
        O = (function () {
          function n(e, t) {
            (0, V.Z)(this, n),
              (this.sample1 = e),
              (this.sample2 = t),
              (this.result = null);
          }
          return (
            (0, J.Z)(n, [
              {
                key: "is_numeric",
                value: function (n) {
                  return /^\d+$/.test(n);
                },
              },
              {
                key: "getNums",
                value: function (n) {
                  var e = this;
                  return (n = n.split("")).reduce(function (n, t) {
                    return e.is_numeric(t) ? n + Number(t) : t.charCodeAt(0);
                  }, 0);
                },
              },
              {
                key: "padronize",
                value: function () {
                  var n = this.getNums(this.sample1),
                    e = this.getNums(this.sample2),
                    t = Math.max(n, e);
                  this.result =
                    n === t
                      ? this.sample1 + this.sample2
                      : this.sample2 + this.sample1;
                },
              },
            ]),
            n
          );
        })();
      function W(n, e) {
        var t = new O(n, e);
        return t.padronize(), t.result;
      }
      var X = (function () {
        function n(e) {
          (0, V.Z)(this, n), (this.chatId = e), (this.chatPath = null);
        }
        return (
          (0, J.Z)(n, [
            {
              key: "chatExists",
              value: (function () {
                var n = (0, m.Z)(
                  (0, f.Z)().mark(function n() {
                    var e;
                    return (0, f.Z)().wrap(
                      function (n) {
                        for (;;)
                          switch ((n.prev = n.next)) {
                            case 0:
                              return (
                                (e = { exists: !1, payload: null }),
                                (n.next = 3),
                                K.ZP.collection("chats")
                                  .doc(this.chatId)
                                  .collection("chat")
                                  .get()
                                  .then(function (n) {
                                    n.empty ||
                                      ((e.exists = !0), (e.payload = n));
                                  })
                              );
                            case 3:
                              return n.abrupt("return", e);
                            case 4:
                            case "end":
                              return n.stop();
                          }
                      },
                      n,
                      this
                    );
                  })
                );
                return function () {
                  return n.apply(this, arguments);
                };
              })(),
            },
            {
              key: "createChat",
              value: (function () {
                var n = (0, m.Z)(
                  (0, f.Z)().mark(function n(e) {
                    return (0, f.Z)().wrap(
                      function (n) {
                        for (;;)
                          switch ((n.prev = n.next)) {
                            case 0:
                              return (
                                (n.next = 2),
                                K.ZP.collection("chats")
                                  .doc(this.chatId)
                                  .collection("chat")
                                  .add((0, L.Z)({}, e))
                                  .then(function (n) {})
                                  .catch(function (n) {
                                    console.log(n.message);
                                  })
                              );
                            case 2:
                            case "end":
                              return n.stop();
                          }
                      },
                      n,
                      this
                    );
                  })
                );
                return function (e) {
                  return n.apply(this, arguments);
                };
              })(),
            },
          ]),
          n
        );
      })();
      function $(n, e) {
        return q.apply(this, arguments);
      }
      function q() {
        return (q = (0, m.Z)(
          (0, f.Z)().mark(function n(e, t) {
            var r, i;
            return (0, f.Z)().wrap(function (n) {
              for (;;)
                switch ((n.prev = n.next)) {
                  case 0:
                    return (
                      console.log(e),
                      console.log(t),
                      (r = []),
                      (n.next = 5),
                      K.ZP.collection("users")
                        .where("uid", "==", e)
                        .get()
                        .then(function (n) {
                          var e = n.docs[0];
                          return (r = (0, H.Z)(e.data().chats)), e.ref;
                        })
                    );
                  case 5:
                    return (
                      (i = n.sent),
                      r.push({
                        uid: t.uid,
                        name: t.name,
                        photoURL: t.photoURL,
                      }),
                      (n.next = 9),
                      i.update({ chats: r })
                    );
                  case 9:
                  case "end":
                    return n.stop();
                }
            }, n);
          })
        )).apply(this, arguments);
      }
      function Y(n) {
        return G.apply(this, arguments);
      }
      function G() {
        return (G = (0, m.Z)(
          (0, f.Z)().mark(function n(e) {
            return (0, f.Z)().wrap(function (n) {
              for (;;)
                switch ((n.prev = n.next)) {
                  case 0:
                    return (
                      (n.next = 2),
                      K.ZP.collection("users")
                        .where("uid", "==", e)
                        .get()
                        .then(function (n) {
                          return n.docs[0].data();
                        })
                    );
                  case 2:
                    return n.abrupt("return", n.sent);
                  case 3:
                  case "end":
                    return n.stop();
                }
            }, n);
          })
        )).apply(this, arguments);
      }
      var Q = t(6150);
      function nn(n) {
        var e = n.db,
          t = void 0 === e ? null : e,
          r = (0, g.useState)(""),
          i = (0, x.Z)(r, 2),
          a = i[0],
          s = i[1],
          o = (0, g.useRef)(),
          c = (0, S.UO)(),
          u = (0, g.useState)(null),
          l = (0, x.Z)(u, 2),
          d = l[0],
          p = l[1],
          h = (0, g.useState)(null),
          w = (0, x.Z)(h, 2),
          b = w[0],
          Z = w[1],
          y = null;
        return (
          (0, g.useEffect)(
            function () {
              !1 !== d &&
                t &&
                ((0, m.Z)(
                  (0, f.Z)().mark(function n() {
                    var e;
                    return (0, f.Z)().wrap(function (n) {
                      for (;;)
                        switch ((n.prev = n.next)) {
                          case 0:
                            if (y) {
                              n.next = 5;
                              break;
                            }
                            return (n.next = 3), (0, Q.Z)();
                          case 3:
                            (e = n.sent), (y = W(e.uid, c.uid));
                          case 5:
                            return n.abrupt("return", y);
                          case 6:
                          case "end":
                            return n.stop();
                        }
                    }, n);
                  })
                )().then(function (n) {
                  return t
                    .collection("chats")
                    .doc(n)
                    .collection("chat")
                    .orderBy("createdAt")
                    .limit(50)
                    .onSnapshot(function (n) {
                      var e = n.docs.map(function (n) {
                        return (0,
                        L.Z)((0, L.Z)({}, n.data()), {}, { id: n.id });
                      });
                      Z(e);
                    });
                }),
                p(!1));
            },
            [t, d]
          ),
          (0, g.useEffect)(function () {
            try {
              if (!o.current) return;
              var n = o.current;
              n.scrollTop = n.scrollHeight;
            } catch (e) {
              console.log(e.message);
            }
          }, []),
          (0, v.jsxs)(v.Fragment, {
            children: [
              (0, v.jsx)(A, {
                children: (0, v.jsx)("h2", { children: "Advocates Chat Room" }),
              }),
              (0, v.jsx)(R, {
                ref: o,
                children: (0, v.jsx)("ul", {
                  className: "messages-node",
                  children:
                    b &&
                    b.map(function (n) {
                      return (0,
                      v.jsx)("li", { children: (0, v.jsx)(_, (0, L.Z)({}, n)) }, n.id);
                    }),
                }),
              }),
              (0, v.jsx)(U, {
                children: (0, v.jsxs)("form", {
                  onSubmit: function (n) {
                    var e, t, r;
                    function i() {
                      return (i = (0, m.Z)(
                        (0, f.Z)().mark(function n() {
                          var i, s, o, u;
                          return (0, f.Z)().wrap(
                            function (n) {
                              for (;;)
                                switch ((n.prev = n.next)) {
                                  case 0:
                                    return (
                                      (n.prev = 0), (n.next = 3), (0, Q.Z)()
                                    );
                                  case 3:
                                    return (e = n.sent), (n.next = 6), Y(c.uid);
                                  case 6:
                                    return (t = n.sent), (n.next = 9), Y(c.uid);
                                  case 9:
                                    return (
                                      (r = n.sent),
                                      (i = W(e.uid, c.uid)),
                                      (s = new X(i)),
                                      (n.next = 14),
                                      s.chatExists()
                                    );
                                  case 14:
                                    if (
                                      ((o = n.sent),
                                      (u = o.exists),
                                      o.payload,
                                      !u)
                                    ) {
                                      n.next = 22;
                                      break;
                                    }
                                    return (
                                      (n.next = 20),
                                      s.createChat({
                                        text: a,
                                        createdAt:
                                          B.Z.firestore.FieldValue.serverTimestamp(),
                                        uid: e.uid,
                                        displayName: e.displayName,
                                        photoURL: e.photoURL,
                                      })
                                    );
                                  case 20:
                                    n.next = 28;
                                    break;
                                  case 22:
                                    return (
                                      (n.next = 24),
                                      s.createChat({
                                        text: a,
                                        createdAt:
                                          B.Z.firestore.FieldValue.serverTimestamp(),
                                        uid: e.uid,
                                        displayName: e.displayName,
                                        photoURL: e.photoURL,
                                      })
                                    );
                                  case 24:
                                    return (n.next = 26), $(e.uid, t);
                                  case 26:
                                    return (n.next = 28), $(c.uid, r);
                                  case 28:
                                    n.next = 33;
                                    break;
                                  case 30:
                                    (n.prev = 30),
                                      (n.t0 = n.catch(0)),
                                      console.log(n.t0.message);
                                  case 33:
                                  case "end":
                                    return n.stop();
                                }
                            },
                            n,
                            null,
                            [[0, 30]]
                          );
                        })
                      )).apply(this, arguments);
                    }
                    n.preventDefault(),
                      a &&
                        (!(function () {
                          i.apply(this, arguments);
                        })(),
                        p(function () {
                          return !0;
                        }),
                        s(function () {
                          return "";
                        }));
                  },
                  children: [
                    (0, v.jsx)(P, {
                      type: "text",
                      value: a,
                      onChange: function (n) {
                        s(n.target.value);
                      },
                      id: "myInput",
                      placeholder: "Type you message here...",
                      autoComplete: "off",
                    }),
                    (0, v.jsx)("button", {
                      type: "submit",
                      disabled: !a,
                      children: "Send",
                    }),
                  ],
                }),
              }),
            ],
          })
        );
      }
      var en = function (n) {
        var e = n.user,
          t = void 0 === e ? null : e,
          r = n.db,
          i = void 0 === r ? null : r,
          a = (0, g.useState)([]),
          s = (0, x.Z)(a, 2),
          o = s[0],
          c = s[1],
          u = (0, g.useState)(""),
          l = (0, x.Z)(u, 2),
          d = l[0],
          p = l[1],
          h = (0, g.useRef)(),
          f = t.uid,
          m = t.displayName,
          w = t.photoURL;
        (0, g.useEffect)(function () {
          try {
            if (!h.current) return;
            var n = h.current;
            n.scrollTop = n.scrollHeight;
          } catch (e) {
            console.log(e.message);
          }
        }, []);
        (0, g.useEffect)(
          function () {
            if (i)
              return i
                .collection("messages")
                .orderBy("createdAt")
                .limit(100)
                .onSnapshot(function (n) {
                  var e = n.docs.map(function (n) {
                    return (0, L.Z)((0, L.Z)({}, n.data()), {}, { id: n.id });
                  });
                  c(e);
                });
          },
          [i]
        );
        return (0, v.jsxs)(v.Fragment, {
          children: [
            (0, v.jsxs)(y, {
              children: [
                (0, v.jsx)(j, {
                  children: (0, v.jsx)("h2", { children: "Users Messages" }),
                }),
                (0, v.jsx)(k, {
                  children: (0, v.jsx)("ul", {
                    className: "actors",
                    children: [
                      {
                        name: "Global chat",
                        photoURL:
                          "https://avatars.githubusercontent.com/u/122039071?s=400&u=71ad1243b64ff9fd68445f297c039a60ceaefd4a&v=4",
                        lastMessage: "Talk to everyone with the global chat",
                        uid: "",
                      },
                      {
                        name: "Ronnie Brito",
                        photoURL:
                          "https://lh3.googleusercontent.com/a/AEdFTp7nsy4yhLo0hOm2zpDjNedfHB9MMWcKej_ki9Rf=s96-c",
                        lastMessage: "It won't work",
                        uid: "hyHKDNi5S6O6bJkfJfkPVNt1qRA2",
                      },
                      {
                        name: "c137",
                        photoURL:
                          "https://randomuser.me/api/portraits/women/8.jpg",
                        lastMessage: "Not dynamic yet",
                        uid: "EjFZKh5rxTgAAdqpJXmH0DAiT7s2",
                      },
                    ].map(function (n, e) {
                      return (0,
                      v.jsx)(D, { name: n.name, photoURL: n.photoURL, lastMessage: n.lastMessage, uid: n.uid }, n.uid + e);
                    }),
                  }),
                }),
              ],
            }),
            (0, v.jsx)(N, {
              children: (0, v.jsxs)(S.rs, {
                children: [
                  (0, v.jsxs)(S.AW, {
                    exact: !0,
                    path: "/messaging",
                    children: [
                      (0, v.jsx)(A, {
                        children: (0, v.jsx)("h2", {
                          children: "Advocates Chat Room",
                        }),
                      }),
                      (0, v.jsx)(R, {
                        ref: h,
                        children: (0, v.jsx)("ul", {
                          className: "messages-node",
                          children: o.map(function (n) {
                            return (0,
                            v.jsx)("li", { children: (0, v.jsx)(_, (0, L.Z)({}, n)) }, n.id);
                          }),
                        }),
                      }),
                      (0, v.jsx)(U, {
                        children: (0, v.jsxs)("form", {
                          onSubmit: function (n) {
                            n.preventDefault(),
                              i &&
                                i
                                  .collection("messages")
                                  .add({
                                    text: d,
                                    createdAt:
                                      C.Z.firestore.FieldValue.serverTimestamp(),
                                    uid: f,
                                    displayName: m,
                                    photoURL: w,
                                  })
                                  .then(function () {
                                    p(function () {
                                      return "";
                                    });
                                  });
                          },
                          children: [
                            (0, v.jsx)(P, {
                              type: "text",
                              value: d,
                              onChange: function (n) {
                                p(n.target.value);
                              },
                              id: "myInput",
                              placeholder: "Type you message here...",
                              autoComplete: "off",
                            }),
                            (0, v.jsx)("button", {
                              type: "submit",
                              disabled: !d,
                              children: "Send",
                            }),
                          ],
                        }),
                      }),
                    ],
                  }),
                  (0, v.jsx)(S.AW, {
                    path: "/messaging/:uid",
                    children: (0, v.jsx)(nn, { db: i }),
                  }),
                ],
              }),
            }),
          ],
        });
      };
      var tn = function () {
        var n = (0, g.useState)(function () {
            return K.I8.currentUser;
          }),
          e = (0, x.Z)(n, 2),
          t = e[0],
          r = e[1],
          i = (0, g.useState)(!0),
          a = (0, x.Z)(i, 2),
          s = a[0],
          o = a[1];
        return (
          (0, g.useEffect)(function () {
            var n = K.I8.onAuthStateChanged(function (n) {
              r(n || null), s && o(!1);
            });
            return n;
          }, []),
          s
            ? "Loading ..."
            : (0, v.jsx)(Z, { children: (0, v.jsx)(en, { user: t, db: K.db }) })
        );
      };
    },
    6150: function (n, e, t) {
      t.d(e, {
        Z: function () {
          return s;
        },
      });
      var r = t(4165),
        i = t(5861),
        a = t(5063);
      function s() {
        return o.apply(this, arguments);
      }
      function o() {
        return (o = (0, i.Z)(
          (0, r.Z)().mark(function n() {
            var e;
            return (0, r.Z)().wrap(function (n) {
              for (;;)
                switch ((n.prev = n.next)) {
                  case 0:
                    return (
                      (e = new Promise(function (n, e) {
                        var t = a.I8.currentUser,
                          r = a.I8.onAuthStateChanged(function (e) {
                            e && (t = e), r(), n(t);
                          });
                      })),
                      (n.next = 3),
                      e
                    );
                  case 3:
                    return n.abrupt("return", n.sent);
                  case 4:
                  case "end":
                    return n.stop();
                }
            }, n);
          })
        )).apply(this, arguments);
      }
    },
    7859: function (n, e, t) {
      t.d(e, {
        CB: function () {
          return i;
        },
        _h: function () {
          return a;
        },
        r6: function () {
          return s;
        },
      });
      var r =
        /(https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*))/g;
      function i(n) {
        return !!n.match(r);
      }
      function a(n) {
        return n.replaceAll(r, "<url*>$1<url*>").split("<url*>");
      }
      function s(n) {
        return /\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(n);
      }
    },
    2734: function (n, e, t) {
      t.d(e, {
        s: function () {
          return i;
        },
      });
      var r = t(184);
      function i(n, e) {
        var t = n.source;
        return (0, r.jsx)("img", {
          src: "/images/user.svg",
          alt: "user image",
          srcSet: t ? "".concat(t, ", /images/user.svg") : "/images/user.svg",
          onError: function (n) {
            n.target.removeAttribute("srcset"), (n.target.onError = null);
          },
        });
      }
    },
  },
]);
//# sourceMappingURL=522.4713f448.chunk.js.map
